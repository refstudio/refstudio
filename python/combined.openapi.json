{"openapi": "3.1.0", "info": {"title": "RefStudio API", "version": "0.1"}, "paths": {"/api/sidecar/rewrite": {"post": {"summary": "Http Rewrite", "operationId": "http_rewrite_rewrite_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/RewriteRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RewriteResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/sidecar/completion": {"post": {"summary": "Http Completion", "operationId": "http_completion_completion_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/TextCompletionRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TextCompletionResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/sidecar/chat": {"post": {"summary": "Http Chat", "operationId": "http_chat_chat_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ChatRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ChatResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/sidecar/search": {"post": {"summary": "Http Search", "operationId": "http_search_search_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SearchRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SearchResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/references/{project_id}": {"get": {"summary": "List References", "description": "Returns a list of references for the current user", "operationId": "list_references__project_id__get", "parameters": [{"required": true, "schema": {"type": "string", "title": "Project Id"}, "name": "project_id", "in": "path"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/Reference"}, "type": "array", "title": "Response List References  Project Id  Get"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"summary": "Ingest References", "description": "Ingests references from PDFs in the project uploads directory", "operationId": "ingest_references__project_id__post", "parameters": [{"required": true, "schema": {"type": "string", "title": "Project Id"}, "name": "project_id", "in": "path"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/references/{project_id}/{reference_id}": {"get": {"summary": "Http Get", "operationId": "http_get__project_id___reference_id__get", "parameters": [{"required": true, "schema": {"type": "string", "title": "Project Id"}, "name": "project_id", "in": "path"}, {"required": true, "schema": {"type": "string", "title": "Reference Id"}, "name": "reference_id", "in": "path"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Reference"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"summary": "Http Delete", "operationId": "http_delete__project_id___reference_id__delete", "parameters": [{"required": true, "schema": {"type": "string", "title": "Project Id"}, "name": "project_id", "in": "path"}, {"required": true, "schema": {"type": "string", "title": "Reference Id"}, "name": "reference_id", "in": "path"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DeleteStatusResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "patch": {"summary": "Http Update", "operationId": "http_update__project_id___reference_id__patch", "parameters": [{"required": true, "schema": {"type": "string", "title": "Project Id"}, "name": "project_id", "in": "path"}, {"required": true, "schema": {"type": "string", "title": "Reference Id"}, "name": "reference_id", "in": "path"}], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReferencePatch"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UpdateStatusResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/references/{project_id}/bulk_delete": {"post": {"summary": "Http Bulk Delete", "operationId": "http_bulk_delete__project_id__bulk_delete_post", "parameters": [{"required": true, "schema": {"type": "string", "title": "Project Id"}, "name": "project_id", "in": "path"}], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/DeleteRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DeleteStatusResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/ai/rewrite": {"post": {"summary": "Http Ai Rewrite", "operationId": "http_ai_rewrite_rewrite_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/RewriteRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RewriteResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/ai/completion": {"post": {"summary": "Http Ai Completion", "operationId": "http_ai_completion_completion_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/TextCompletionRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TextCompletionResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/ai/{project_id}/chat": {"post": {"summary": "Http Ai Chat", "operationId": "http_ai_chat__project_id__chat_post", "parameters": [{"required": true, "schema": {"type": "string", "title": "Project Id"}, "name": "project_id", "in": "path"}], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ChatRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ChatResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/search/s2": {"post": {"summary": "Http Search S2", "operationId": "http_search_s2_s2_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SearchRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SearchResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/fs/{project_id}/{filepath}": {"get": {"summary": "Read File", "operationId": "read_file__project_id___filepath__get", "parameters": [{"required": true, "schema": {"type": "string", "title": "Project Id"}, "name": "project_id", "in": "path"}, {"required": true, "schema": {"type": "string", "format": "path", "title": "Filepath"}, "name": "filepath", "in": "path"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"summary": "Create File", "operationId": "create_file__project_id___filepath__put", "parameters": [{"required": true, "schema": {"type": "string", "title": "Project Id"}, "name": "project_id", "in": "path"}, {"required": true, "schema": {"type": "string", "format": "path", "title": "Filepath"}, "name": "filepath", "in": "path"}], "requestBody": {"content": {"multipart/form-data": {"schema": {"$ref": "#/components/schemas/Body_create_file__project_id___filepath__put"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"summary": "Delete File", "operationId": "delete_file__project_id___filepath__delete", "parameters": [{"required": true, "schema": {"type": "string", "title": "Project Id"}, "name": "project_id", "in": "path"}, {"required": true, "schema": {"type": "string", "format": "path", "title": "Filepath"}, "name": "filepath", "in": "path"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "head": {"summary": "Head File", "operationId": "head_file__project_id___filepath__head", "parameters": [{"required": true, "schema": {"type": "string", "title": "Project Id"}, "name": "project_id", "in": "path"}, {"required": true, "schema": {"type": "string", "format": "path", "title": "Filepath"}, "name": "filepath", "in": "path"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/projects/": {"get": {"summary": "List Projects", "description": "Returns a list of projects for the current user", "operationId": "list_projects__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}, "post": {"summary": "Create Project", "description": "Creates a project directory in the filesystem\n\nParameters\n----------\nproject_name : str\n    The name of the project\nproject_path : str\n    The path to the project directory. Only necessary for Desktop.\n    For web, the project is stored in a private directory on the server.", "operationId": "create_project__post", "parameters": [{"required": true, "schema": {"type": "string", "title": "Project Name"}, "name": "project_name", "in": "query"}, {"required": false, "schema": {"type": "string", "title": "Project Path"}, "name": "project_path", "in": "query"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/projects/{project_id}": {"get": {"summary": "Get Project", "description": "Returns the project path and a list of files in the project", "operationId": "get_project__project_id__get", "parameters": [{"required": true, "schema": {"type": "string", "title": "Project Id"}, "name": "project_id", "in": "path"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"summary": "Delete Project", "description": "Deletes a project directory and all files in it", "operationId": "delete_project__project_id__delete", "parameters": [{"required": true, "schema": {"type": "string", "title": "Project Id"}, "name": "project_id", "in": "path"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/projects/{project_id}/files": {"get": {"summary": "Get Project Files", "operationId": "get_project_files__project_id__files_get", "parameters": [{"required": true, "schema": {"type": "string", "title": "Project Id"}, "name": "project_id", "in": "path"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/meta/status": {"get": {"summary": "Status", "operationId": "status_status_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/meta/shutdown": {"post": {"summary": "Shutdown", "operationId": "shutdown_shutdown_post", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/settings/": {"get": {"summary": "Get Settings", "operationId": "get_settings__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SettingsSchema"}}}}}}, "put": {"summary": "Update Settings", "operationId": "update_settings__put", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SettingsSchema"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SettingsSchema"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}}, "components": {"schemas": {"ChatRequest": {"properties": {"text": {"type": "string"}, "n_choices": {"type": "integer", "default": 1}, "temperature": {"type": "number", "default": 0.7}}, "type": "object", "required": ["text"], "title": "ChatRequest"}, "ChatResponse": {"properties": {"status": {"$ref": "#/components/schemas/ResponseStatus"}, "message": {"type": "string"}, "choices": {"items": {"$ref": "#/components/schemas/ChatResponseChoice"}, "type": "array"}}, "type": "object", "required": ["status", "message", "choices"], "title": "ChatResponse"}, "ChatResponseChoice": {"properties": {"index": {"type": "integer"}, "text": {"type": "string"}}, "type": "object", "required": ["index", "text"], "title": "ChatResponseChoice"}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "ResponseStatus": {"type": "string", "enum": ["ok", "error"], "title": "ResponseStatus", "description": "An enumeration."}, "RewriteChoice": {"properties": {"index": {"type": "integer"}, "text": {"type": "string"}}, "type": "object", "required": ["index", "text"], "title": "RewriteChoice"}, "RewriteMannerType": {"type": "string", "enum": ["concise", "elaborate", "scholarly"], "title": "RewriteMannerType", "description": "An enumeration."}, "RewriteRequest": {"properties": {"text": {"type": "string"}, "manner": {"allOf": [{"$ref": "#/components/schemas/RewriteMannerType"}], "default": "concise"}, "n_choices": {"type": "integer", "default": 1}, "temperature": {"type": "number", "default": 0.7}}, "type": "object", "required": ["text"], "title": "RewriteRequest"}, "RewriteResponse": {"properties": {"status": {"$ref": "#/components/schemas/ResponseStatus"}, "message": {"type": "string"}, "choices": {"items": {"$ref": "#/components/schemas/RewriteChoice"}, "type": "array"}}, "type": "object", "required": ["status", "message", "choices"], "title": "RewriteResponse"}, "S2SearchResult": {"properties": {"title": {"type": "string"}, "abstract": {"type": "string"}, "venue": {"type": "string"}, "year": {"type": "integer"}, "paperId": {"type": "string"}, "citationCount": {"type": "integer"}, "openAccessPdf": {"type": "string"}, "authors": {"items": {"type": "string"}, "type": "array"}}, "type": "object", "title": "S2SearchResult"}, "SearchRequest": {"properties": {"query": {"type": "string"}, "limit": {"type": "integer", "default": 10}}, "type": "object", "required": ["query"], "title": "SearchRequest"}, "SearchResponse": {"properties": {"status": {"$ref": "#/components/schemas/ResponseStatus"}, "message": {"type": "string"}, "results": {"items": {"$ref": "#/components/schemas/S2SearchResult"}, "type": "array"}}, "type": "object", "required": ["status", "message", "results"], "title": "SearchResponse"}, "TextCompletionChoice": {"properties": {"index": {"type": "integer"}, "text": {"type": "string"}}, "type": "object", "required": ["index", "text"], "title": "TextCompletionChoice"}, "TextCompletionRequest": {"properties": {"text": {"type": "string"}, "n_choices": {"type": "integer", "default": 1}, "temperature": {"type": "number", "default": 0.7}, "max_tokens": {"type": "integer", "default": 512}, "title": {"type": "string"}, "abstract": {"type": "string"}}, "type": "object", "required": ["text"], "title": "TextCompletionRequest"}, "TextCompletionResponse": {"properties": {"status": {"$ref": "#/components/schemas/ResponseStatus"}, "message": {"type": "string"}, "choices": {"items": {"$ref": "#/components/schemas/TextCompletionChoice"}, "type": "array"}}, "type": "object", "required": ["status", "message", "choices"], "title": "TextCompletionResponse"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}, "Author": {"properties": {"full_name": {"type": "string"}, "given_name": {"type": "string"}, "surname": {"type": "string"}, "email": {"type": "string"}}, "type": "object", "required": ["full_name"], "title": "Author"}, "Chunk": {"properties": {"text": {"type": "string"}, "vector": {"items": {"type": "number"}, "type": "array", "default": []}, "metadata": {"type": "object", "default": {}}}, "type": "object", "required": ["text"], "title": "Chunk"}, "DeleteRequest": {"properties": {"reference_ids": {"items": {"type": "string"}, "type": "array"}, "all": {"type": "boolean", "default": false}}, "type": "object", "required": ["reference_ids"], "title": "DeleteRequest"}, "DeleteStatusResponse": {"properties": {"status": {"$ref": "#/components/schemas/ResponseStatus"}, "message": {"type": "string"}}, "type": "object", "required": ["status", "message"], "title": "DeleteStatusResponse"}, "IngestStatus": {"type": "string", "enum": ["processing", "failure", "complete"], "title": "IngestStatus", "description": "An enumeration."}, "Reference": {"properties": {"id": {"type": "string"}, "source_filename": {"type": "string"}, "status": {"$ref": "#/components/schemas/IngestStatus"}, "citation_key": {"type": "string"}, "doi": {"type": "string"}, "title": {"type": "string"}, "abstract": {"type": "string"}, "contents": {"type": "string"}, "published_date": {"type": "string", "format": "date"}, "authors": {"items": {"$ref": "#/components/schemas/Author"}, "type": "array", "default": []}, "chunks": {"items": {"$ref": "#/components/schemas/Chunk"}, "type": "array", "default": []}, "metadata": {"type": "object", "default": {}}}, "type": "object", "required": ["id", "source_filename", "status"], "title": "Reference", "description": "A reference for an academic paper / PDF"}, "ReferencePatch": {"properties": {"data": {"type": "object"}}, "type": "object", "required": ["data"], "title": "ReferencePatch", "description": "ReferencePatch is the input type for updating a Reference's metadata."}, "UpdateStatusResponse": {"properties": {"status": {"$ref": "#/components/schemas/ResponseStatus"}, "message": {"type": "string"}}, "type": "object", "required": ["status", "message"], "title": "UpdateStatusResponse"}, "Body_create_file__project_id___filepath__put": {"properties": {"file": {"type": "string", "format": "binary", "title": "File"}}, "type": "object", "required": ["file"], "title": "Body_create_file__project_id___filepath__put"}, "LoggingSettings": {"properties": {"enable": {"type": "boolean", "default": false}, "filepath": {"type": "string", "default": "/tmp/refstudio-sidecar.log"}}, "type": "object", "title": "LoggingSettings"}, "OpenAISettings": {"properties": {"api_key": {"type": "string", "default": ""}, "chat_model": {"type": "string", "default": "gpt-3.5-turbo"}, "manner": {"allOf": [{"$ref": "#/components/schemas/RewriteMannerType"}], "default": "scholarly"}, "temperature": {"type": "number", "default": 0.7}}, "type": "object", "title": "OpenAISettings"}, "ProjectSettings": {"properties": {"current_directory": {"type": "string", "default": ""}}, "type": "object", "title": "ProjectSettings"}, "SettingsSchema": {"properties": {"project": {"allOf": [{"$ref": "#/components/schemas/ProjectSettings"}], "default": {"current_directory": ""}}, "openai": {"allOf": [{"$ref": "#/components/schemas/OpenAISettings"}], "default": {"api_key": "", "chat_model": "gpt-3.5-turbo", "manner": "scholarly", "temperature": 0.7}}, "sidecar": {"allOf": [{"$ref": "#/components/schemas/SidecarSettings"}], "default": {"logging": {"enable": false, "filepath": "/tmp/refstudio-sidecar.log"}}}}, "type": "object", "title": "SettingsSchema"}, "SidecarSettings": {"properties": {"logging": {"allOf": [{"$ref": "#/components/schemas/LoggingSettings"}], "default": {"enable": false, "filepath": "/tmp/refstudio-sidecar.log"}}}, "type": "object", "title": "SidecarSettings"}}}}